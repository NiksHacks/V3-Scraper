{
  "title": "Meta Ads Library Scraper Input",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "accessToken": {
      "title": "Facebook Access Token",
      "type": "string",
      "description": "Token di accesso per l'API di Facebook. Richiesto per accedere alla Meta Ads Library.",
      "editor": "textfield",
      "isSecret": true
    },
    "searchTerms": {
      "title": "Termini di ricerca",
      "type": "string",
      "description": "Termini di ricerca per filtrare gli annunci (opzionale).",
      "editor": "textfield"
    },
    "adReachedCountries": {
      "title": "Paesi target",
      "type": "array",
      "description": "Lista di codici paese (ISO 2 lettere) per filtrare gli annunci. Es: ['IT', 'US', 'GB']",
      "editor": "stringList",
      "default": ["IT"]
    },
    "adActiveStatus": {
      "title": "Stato degli annunci",
      "type": "string",
      "description": "Filtra per stato degli annunci: ALL, ACTIVE, INACTIVE",
      "enum": ["ALL", "ACTIVE", "INACTIVE"],
      "default": "ALL",
      "editor": "select"
    },
    "adType": {
      "title": "Tipo di annuncio",
      "type": "string",
      "description": "Tipo di annuncio da cercare: ALL, POLITICAL_AND_ISSUE_ADS, HOUSING_ADS, EMPLOYMENT_ADS, CREDIT_ADS",
      "enum": ["ALL", "POLITICAL_AND_ISSUE_ADS", "HOUSING_ADS", "EMPLOYMENT_ADS", "CREDIT_ADS"],
      "default": "ALL",
      "editor": "select"
    },
    "limit": {
      "title": "Limite risultati",
      "type": "integer",
      "description": "Numero massimo di annunci da recuperare per richiesta (max 1000).",
      "minimum": 1,
      "maximum": 1000,
      "default": 100
    },
    "maxPages": {
      "title": "Pagine massime",
      "type": "integer",
      "description": "Numero massimo di pagine di risultati da processare.",
      "minimum": 1,
      "maximum": 100,
      "default": 10
    },
    "fields": {
      "title": "Campi da estrarre",
      "type": "array",
      "description": "Lista dei campi da estrarre per ogni annuncio.",
      "editor": "stringList",
      "default": [
        "id",
        "ad_creation_time",
        "ad_creative_bodies",
        "ad_creative_link_captions",
        "ad_creative_link_descriptions",
        "ad_creative_link_titles",
        "ad_delivery_start_time",
        "ad_delivery_stop_time",
        "ad_snapshot_url",
        "currency",
        "demographic_distribution",
        "funding_entity",
        "impressions",
        "page_id",
        "page_name",
        "publisher_platforms",
        "spend"
      ]
    },
    "proxyConfiguration": {
      "title": "Configurazione proxy",
      "type": "object",
      "description": "Impostazioni proxy per le richieste.",
      "editor": "proxy",
      "prefill": {
        "useApifyProxy": true
      }
    }
  },
  "required": ["accessToken"]
}